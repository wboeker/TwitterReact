(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),r=a(59),i=a.n(r),o=(a(66),a(16)),c=a(17),l=a(20),u=a(18),m=a(19),h=a(3),d=(a(67),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).tweetContent=e.tweetContent,a.tweetId=e.tweetId,a.username=e.username,a.timeStamp=e.timeStamp,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleremoveTweet",value:function(e){this.props.removeTweet(e)}},{key:"render",value:function(e){var t=this;return s.a.createElement("div",{className:"note fade-in"},s.a.createElement("div",{className:"buttonContainer"},s.a.createElement("div",{className:"makeRight"},s.a.createElement("span",{className:"closebtn",onClick:function(){return t.handleremoveTweet(t.tweetId)}},"\xd7"))),s.a.createElement("div",{className:"utContainer"},s.a.createElement("div",{className:"userBox"},s.a.createElement("p",{className:"userDisplay"},"User: ",this.username)),s.a.createElement("div",{className:"timeBox"},s.a.createElement("p",{className:"timeStamp"}," ",this.timeStamp))),s.a.createElement("p",{className:"tweetContent"},this.tweetContent))}}]),t}(n.Component)),w=(a(68),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={newTweetContent:"",username:"",timeStamp:"",filterUser:""},a.handleUserInput=a.handleUserInput.bind(Object(h.a)(Object(h.a)(a))),a.changeUser=a.changeUser.bind(Object(h.a)(Object(h.a)(a))),a.handleFilter=a.handleFilter.bind(Object(h.a)(Object(h.a)(a))),a.writeTweet=a.writeTweet.bind(Object(h.a)(Object(h.a)(a))),a.filterByUser=a.filterByUser.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleUserInput",value:function(e){this.setState({newTweetContent:e.target.value})}},{key:"changeUser",value:function(e){this.setState({username:e.target.value})}},{key:"handleFilter",value:function(e){this.setState({filterUser:e.target.value})}},{key:"addZero",value:function(e){return e<10&&(e="0"+e),e}},{key:"constructDate",value:function(){var e=new Date;new Date;return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+this.addZero(e.getHours())+":"+this.addZero(e.getMinutes())+":"+this.addZero(e.getSeconds())}},{key:"filterByUser",value:function(){var e=this.state.filterUser;this.props.filterTweets(e)}},{key:"writeTweet",value:function(){var e=this.constructDate(),t=this.state.newTweetContent,a=this.props.username?this.props.username.displayName:"";this.props.addTweet(t,a,e),this.setState({newTweetContent:""})}},{key:"render",value:function(){return s.a.createElement("div",{className:"formWrapper"},s.a.createElement("input",{className:"filterInput",placeholder:"filter by user",value:this.state.filterUser,onChange:this.handleFilter}),s.a.createElement("button",{className:"filterButton",onClick:this.filterByUser},"Filter"),s.a.createElement("input",{className:"tweetInput",placeholder:"Write a new tweet...",value:this.state.newTweetContent,onChange:this.handleUserInput}),s.a.createElement("button",{className:"tweetButton",onClick:this.writeTweet,disabled:!this.props.username},"Tweet"))}}]),t}(n.Component)),p=a(26),v=a.n(p);a(120);v.a.initializeApp({apiKey:"AIzaSyDjkCphKdKAvmdMEkUK8UY9fuDMpDghdXk",authDomain:"react-twitter-3a113.firebaseapp.com",databaseURL:"https://react-twitter-3a113.firebaseio.com",projectId:"react-twitter-3a113",storageBucket:"react-twitter-3a113.appspot.com",messagingSenderId:"952075446154"});var b=new v.a.auth.GoogleAuthProvider,f=v.a.auth(),g=v.a,k=(a(121),a(60)),j=a.n(k),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).addTweet=a.addTweet.bind(Object(h.a)(Object(h.a)(a))),a.removeTweet=a.removeTweet.bind(Object(h.a)(Object(h.a)(a))),a.toggleUsers=a.toggleUsers.bind(Object(h.a)(Object(h.a)(a))),a.login=a.login.bind(Object(h.a)(Object(h.a)(a))),a.logout=a.logout.bind(Object(h.a)(Object(h.a)(a))),a.app=g,a.database=a.app.database().ref().child("tweets"),a.state={tweets:[],usersVisible:!1,user:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){var e=this;f.signOut().then(function(){e.setState({user:null})})}},{key:"login",value:function(){var e=this;f.signInWithPopup(b).then(function(t){var a=t.user;e.setState({user:a})})}},{key:"componentWillMount",value:function(){var e=this,t=this.state.tweets;this.state.user&&this.state.user.displayName;this.database.on("child_added",function(a){t.unshift({id:a.key,tweetContent:a.val().tweetContent,username:a.val().username,timeStamp:a.val().timeStamp}),e.setState({tweets:t})}),this.database.on("child_removed",function(a){for(var n=0;n<t.length;n++)t[n].id===a.key&&t.splice(n,1);e.setState({tweets:t})})}},{key:"addTweet",value:function(e,t,a){this.database.push().set({tweetContent:e,username:t,timeStamp:a})}},{key:"removeTweet",value:function(e){this.database.child(e).remove()}},{key:"filterTweets",value:function(e){window.location="/TwitterReact/index.html/?user="+e}},{key:"toggleUsers",value:function(){var e=this.state.usersVisible;this.setState({usersVisible:!e})}},{key:"constructUsers",value:function(){for(var e=[],t=0;t<this.state.tweets.length;t++)e.push(this.state.tweets[t].username);return new Set(e)}},{key:"helper",value:function(){var e=this,t=j.a.parse(window.location.search);if(this.state.usersVisible){var a=this.constructUsers();return Array.from(a).map(function(e){return s.a.createElement(d,{username:e})})}return this.state.tweets.map(function(a){if(!t.user||t.user===a.username)return s.a.createElement(d,{username:a.username,tweetContent:a.tweetContent,tweetId:a.id,key:a.id,removeTweet:e.removeTweet,timeStamp:a.timeStamp})})}},{key:"render",value:function(){var e=this.state.usersVisible?"Show Tweets":"See all users";return s.a.createElement("div",{className:"tweetsFooter"},s.a.createElement("div",{className:"tweetsHeader"},s.a.createElement("div",{className:"login"},this.state.user?s.a.createElement("button",{className:"authentication",onClick:this.logout},"Log Out"):s.a.createElement("button",{className:"authentication",onClick:this.login},"Log In")),s.a.createElement("div",{className:"heading"},"Tweets")),s.a.createElement("div",{className:"tweetsBody"},this.helper()),s.a.createElement("button",{className:"userButton",onClick:this.toggleUsers},e),s.a.createElement("div",{className:"tweetsFooter"},s.a.createElement(w,{username:this.state.user,filterTweets:this.filterTweets,setUser:this.setUser,addTweet:this.addTweet})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},61:function(e,t,a){e.exports=a(128)},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.89d10308.chunk.js.map